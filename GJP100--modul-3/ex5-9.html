<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Henning von Rosen</title>
    <link rel="stylesheet" href="style3.css">
    <style></style>
    <script src="utils3.js"></script>

    <!-- SÝNTAX HIGHLIGHTING -->
    <link rel="stylesheet"
    href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.0/build/styles/atom-one-dark.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.0.0/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

  </head>
  <body onload="">
    
    
    
    
    <h1>Modul 3, Övning 5-9</h1>




    <section>
      <h2>Övning 5</h2>
      <p>Gör ett eget namespace och lägg till funktionen <code>addera</code>. Funktionen addera ska ta två tal som inparameter och skriva ut summan av dessa på lämpligt ställe (t.ex. genom att ändra innerHTML i ett element)./p>
      <form id="ex5" action="javasctipt:void(0)">
        Ett tal: <input class="ui in" type="text" value="42"> <br>
        Ett tal: <input class="ui in" type="text" value="38"> <br>
        <input class="ui in" type="button" value="addera de två talen">
        <input class="ui in" type="button" value="slumpa och addera de två talen"> <br>
        <div class="out ui big">__</div> 

      </form>
      <script>
        { // varje övning får ett eget scope, så inte variabelnamn riskerar kollidera
          let [A, B, ADD, RND, HERE] = query2elems("#ex5 .ui");

          HERE.style.display ="inline-block";

          let myNameSpace = {};

          myNameSpace.addera = (a,b) => {
            HERE.innerText = a+b;
          }
          RND.addEventListener('click', () => {
              let [a,b] = [A,B].map( x => { x.value = rnd(0,43); } );
              ADD.dispatchEvent(new Event('click'));
            }
          );
          ADD.addEventListener('click', () => {
              let [a,b] = [A,B].map(x=>parseFloat(x.value));
              myNameSpace.addera(a,b);
            }
          );
        }
      </script>




    </section>




    <section>
      <h2>Övning 6</h2>
      <p>Använd gärna namespace. Lägg till en variabel som heter antalClick. Skapa en funktion som heter click och varje gång funktionen körs ska 1 läggas till variabeln antalClick. Total antal klick ska skrivas ut på skärmen på valfritt ställe. Funktionen ska "triggas" när man trycker på en knap</p>
      <form id="ex6" action="javasctipt:void(0)">
        <input class="ui in" type="button" value="klicka mig">
        <hr>
        <div class="ui out big"></div> 
      </form>
      <script>
        { // varje övning får ett eget scope, så inte variabelnamn riskerar kollidera
          let [INC,HERE] = query2elems("#ex6 .ui");

          HERE.style.display ="inline-block";

          // init
          let myNameSpace = {};
          myNameSpace.antalKlick = 0;
          HERE.innerText = myNameSpace.antalKlick;

          INC.addEventListener('click',()=>{
            myNameSpace.antalKlick++;
            HERE.innerText = myNameSpace.antalKlick;
          }); 
        }
      </script>
    </section>

    <section>
      <h2>Övning 7</h2>
      <p>Skriv ett program som men hjälp av javascript ändrar bakgrundsfärgen på ett div-element när man håller musen över den, och sedan ändrar tillbaka till ursprungsfärgen när man flyttar bort muspekaren. Bygg ut uppgiften ytterligare med någon valfri funktionalitet i javascript.</p>

      <form id="ex7" action="javasctipt:void(0)">
        <div class="ui out">HOOVRA MIG</div>
        <input class ="ui fn" type="button" value="Nästa färgpar">
        <input class ="ui fn" type="button" value="Lägg till färgpar">
        <input class ="ui fn" type="button" value="nollställ">
        <pre><code class="ui out javascript"></code></pre>
      </form>

      <script>
        { // varje övning får ett eget scope, så inte variabelnamn riskerar kollidera
          let [HERE,STEP,ADD_COLOR,RESET,DATA] = query2elems("#ex7 .ui");

          // objekt med färginformation
          let color = {index:0, list:[]};

          let showData = (data)=>{
            DATA.innerHTML = pretty(data);
            hljs.highlightBlock(DATA);
          }
          let addColors = () => {
            let hue = rnd(0, 360); 
            color.list.push(`hsla(${hue},50%,50%,0.8)`,`hsla(${hue},100%,60%,1.0)`);
          } 

          let nextColor = () => {
            color.index = (color.index + 2) % (color.list.length);
            console.log("color.index",color.index);
            return color.list[color.index]; 
          };
          let update = ()=> {
            HERE.style.backgroundColor = color.list[color.index];
            showData(color);
          }


          // Init
          addColors();
          addColors();
          
          update();
          HERE.classList.add("big");
          HERE.style.textAlign = "center";
          
          STEP.addEventListener('click', ()=>{
              nextColor();
              update();
            }
          );
          // Events
          HERE.addEventListener('mouseover', ()=>{
              HERE.style.backgroundColor = color.list[color.index+1];
            }
          );
          HERE.addEventListener('mouseout', ()=>{
            HERE.style.backgroundColor = color.list[color.index];
            }
          );
          ADD_COLOR.addEventListener('click', ()=>{
              // lägg till färger i listan
              addColors();
              nextColor();
              nextColor();

              update();
            }
          );
          RESET.addEventListener('click',()=>{
            color.index = 0;
            color.list = [];
            addColors();
            addColors();

            update();
          })
        }
      </script>
    </section>




    <section>
      <h2>Övning 8</h2>
      <p>Skapa ett program som består av ett textfält (t.ex. <input class="in" type="text">), en knapp och ett div-element. När man trycker på knappen skall det som står i textrutan skrivas ut i div-elementet. Bygg ut uppgiften ytterligare med någon valfri funktionalitet i javascript.</p>
      <form id="ex8" action="javasctipt:void(0)">
        <input class="ui in" type="text" value="Lorem ipsum">
        <input class="ui fn" type="button" value="lagra och visa text">
        <hr>
        <input class="ui fn" type="button" value="slumpa bokstäver">
        <input class="ui fn" type="button" value="blanda bokstäver">
        <input class="ui fn" type="button" value="undo">
        <input class="ui fn" type="button" value="återställ">
        <hr>

        <div class="ui out big"></div>
        <pre><code class="ui out javascript"></code></pre>
      </form>
      <script>
        { // varje övning får ett eget scope, så inte variabelnamn riskerar kollidera
          let [TEXT,SHOW,RND,MIX,UNDO,RESET,HERE,HISTORY] = query2elems("#ex8 .ui");
          let history = ["Lorem ipsum"];
          let update = ()=>{
            TEXT.value = history[history.length-1];
            HERE.innerHTML = history[history.length-1];
            HISTORY.innerHTML = "// history\n"+pretty(history);
            hljs.highlightBlock(HISTORY);
          };
          update();
          RND.addEventListener('click', ()=>{
              let src = history[history.length-1].split('');
              let text = src.map( ch=>rnd( src ) ).join('');
              history.push(text);

              update();
            }
          );
          MIX.addEventListener('click',()=>{
            let text = scramble( history[history.length-1] ); 
            history.push(text);
            
            update();
          });
          UNDO.addEventListener('click',()=>{
            if(history.length>1) history.pop();
            
            update();
          });
          RESET.addEventListener('click',()=>{
            if(history.length>1) history = history.slice(0,1);
            
            update();
          });
          SHOW.addEventListener('click', ()=>{
            let text = TEXT.value;
            history = [text];

            update();
          }
          );
        }
      </script>
    </section>




    <section>
      <h2>Övning 9</h2>
      <p>Skapa ett program där ett div-element rör sig fram och tillbaka i x-led på skärmen automatiskt. Använd setInterval eller setTimeout. Bygg ut uppgiften ytterligare med någon valfri funktionalitet i javascript.</p>
      <form id="ex9" action="javasctipt:void(0)">

      </form>
      <script>
        { // varje övning får ett eget scope, så inte variabelnamn riskerar kollidera
      
        }
      </script>
    </section>




    

      





  </body>
</html>

<!-- TEMPLATE för övningar
    <section>
      <h2>Övning _</h2>
      <p></p>
      <form id="ex_" action="javasctipt:void(0)">

      </form>
      <script>
        { // varje övning får ett eget scope, så inte variabelnamn riskerar kollidera
      
        }
      </script>
    </section>





-->


